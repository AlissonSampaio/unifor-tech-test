# =============================================================================
# Configuracoes compartilhadas (todos os profiles)
# =============================================================================

quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=unifor
quarkus.datasource.password=unifor123

# OIDC / Keycloak
quarkus.oidc.client-id=backend
quarkus.oidc.credentials.secret=backend-secret
quarkus.oidc.tls.verification=none

# OpenAPI / Swagger
quarkus.smallrye-openapi.info-title=API Matriz Curricular
quarkus.smallrye-openapi.info-version=1.0.0
quarkus.smallrye-openapi.info-description=API para gerenciamento de matriz curricular e matr\u00edculas
quarkus.swagger-ui.always-include=true

# CORS
quarkus.http.cors=true
quarkus.http.cors.methods=GET,POST,PUT,DELETE,OPTIONS
quarkus.http.cors.headers=accept,authorization,content-type

# =============================================================================
# Profile: dev (padrao ao rodar localmente com quarkus:dev)
# =============================================================================

%dev.quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5433/matriz_curricular

%dev.quarkus.hibernate-orm.database.generation=drop-and-create
%dev.quarkus.hibernate-orm.sql-load-script=import.sql
%dev.quarkus.hibernate-orm.log.sql=true
%dev.quarkus.hibernate-orm.log.format-sql=true

%dev.quarkus.oidc.auth-server-url=http://localhost:8180/realms/unifor
%dev.quarkus.oidc.token.issuer=http://localhost:8180/realms/unifor

%dev.quarkus.http.cors.origins=http://localhost:4200

# =============================================================================
# Profile: test
# =============================================================================

%test.quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5433/matriz_curricular

%test.quarkus.hibernate-orm.database.generation=drop-and-create
%test.quarkus.hibernate-orm.sql-load-script=import.sql
%test.quarkus.hibernate-orm.log.sql=false

%test.quarkus.oidc.auth-server-url=http://localhost:8180/realms/unifor
%test.quarkus.oidc.token.issuer=http://localhost:8180/realms/unifor

# =============================================================================
# Profile: prod (usado no Docker via QUARKUS_PROFILE=prod)
# =============================================================================

%prod.quarkus.datasource.jdbc.url=jdbc:postgresql://postgres:5432/matriz_curricular

%prod.quarkus.hibernate-orm.database.generation=update
%prod.quarkus.hibernate-orm.sql-load-script=import.sql
%prod.quarkus.hibernate-orm.log.sql=false

%prod.quarkus.oidc.auth-server-url=http://keycloak:8080/realms/unifor
%prod.quarkus.oidc.token.issuer=http://localhost:8180/realms/unifor

%prod.quarkus.http.cors.origins=http://localhost:4200,http://localhost
